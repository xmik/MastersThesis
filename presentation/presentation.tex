\documentclass{beamer}

\usetheme{Warsaw}
%\usecolortheme{lily} 
\setbeamercolor{frametitle}{bg=blue,fg=yellow} 
%\beamersetaveragebackground{blue!10} 

\newcommand{\supp}{\textrm{{s}upp}
}
\newcommand{\ce}{\mbox{\textnormal{{c}e}}
}
\newcommand{\card}{\mbox{\textnormal{{c}ard}}
}
\newcommand{\rc}{\mbox{\textnormal{rc}}
}
\newcommand{\sig}{\textrm{$\Sigma$Count}
}
\newcommand{\nf}{\mbox{\textnormal{nf$\sigma$-count}}
}
\newcommand{\req}[1]{(\ref{#1})}
\newcommand{\inn}{\mbox{\textnormal{in}}
}
\newcommand{\clm}{\mbox{\textnormal{clm}}
}

\usepackage{polski}%{{{
\usepackage[utf8]{inputenc}
\usepackage{amssymb}
\usepackage{graphicx} %for eps graphics
\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\usepackage{txfonts}
\usepackage{array}
\usepackage{graphicx}
\usepackage{caption}
\newcommand{\source}[1]{\caption*{Source: {#1}} }

%}}}

\title{Kubernetes cluster deployment \\ for production environment}
%\toctitle{Kubernetes cluster deployment for production environment}

\author{Ewa Czechowska}
\institute{Technical University of Lodz}
\date{Łódź, 4th April 2020}

%\begin{frame}{\tableofcontents[currentsection]}
%\begin{frame}{\tableofcontents[currentsubsection]}

\begin{document}
\maketitle

\section{Introduction}
\subsection{Table of Contents}
\begin{frame}{Table of Contents}%{{{
\begin{center}
\begin{tabular}{@{}  l  l }
	\begin{figure}
		\includegraphics[width=5.5cm]{figures/table-of-c1.png}
		\label{fig:table-of-c1}
	\end{figure} &
	\begin{figure}
		\includegraphics[width=5.5cm]{figures/table-of-c2.png}
		\label{fig:table-of-c2}
	\end{figure} \\
	\end{tabular}
\end{center}
\end{frame}
%}}}

\subsection{Topic and study scope}
\begin{frame}{Trends in IT}%{{{
\begin{itemize}
\item Architectural shift {\bfseries from monolith to microservices}
\item Migration {\bfseries from on-premises services to Cloud Native Applications}
\item Adoption of {\bfseries Docker containers}
\item Evolution of the movement: {\bfseries DevOps}
\end{itemize}
\end{frame}
%}}}

\begin{frame}{Docker containers - definition}%{{{
\begin{itemize}
\item Docker provides \textbf{a new way of virtualization}
\item Docker containers offer ready to use, installed, software packages including OS, software dependencies and runtime
\item Docker allows for quick deployments
\item \textbf{Virtual machines virtualize hardware, containers virtualize the operating system of a server}
\end{itemize}
\begin{figure}
	\includegraphics[width=6cm]{figures/docker-vs-vms.png}
	\label{fig:docker-vs-vms}
	\source{https://docs.docker.com/get-started/}
\end{figure}
\end{frame}
%}}}

\begin{frame}{Why follow trends?}%{{{
\begin{center}
	\begin{tabular}{ | c | c |}
		\hline
		{\bfseries Why microservices?} & {\bfseries Why Docker containers?} \\ \hline
		simpler architecture & portability across clouds \\ \hline
		reuse an application & limit "works on my machine" \\ \hline
		less context at once & faster startup times \\ \hline
		isolated failures &  light-weight \\ \hline
		\hline
	\end{tabular}
	\begin{tabular}{ | c |}
		\hline
		 {\bfseries Why cloud?} \\ \hline
		 scalability \\ \hline
		 lower upfront infrastructure investment \\ \hline
		 reliable hardware (SLAs) \\ \hline
		 efficient utilization of resources \\ \hline
		\hline
	\end{tabular}
\end{center}
\end{frame}
%}}}

%make the code architecture less coupled  & more efficient resources utilization & %Potential solutions\\ \hline
		% make the code architecture less coupled  & more efficient resources utilization & Potential solutions\\ \hline

% \begin{frame}{Why follow trends?}%{{{
% Why microservices?
% \begin{itemize}
% \item to simplify complex applications 
% \item to put less context into a developer's head
% \item to be able to easier navigate the failure

% Why migrate to cloud?
% \begin{itemize}
% \item to satisfy the need for scalability
% \item to decrease the upfront infrastructure investment
% \item to pay only for used infrastructure, not for the allocated part
% \item to utilize resources in a more efficient way
% \item to use reliable infrastructure (thanks to e.g. S3 SLA)
% \end{itemize}
% \end{frame}
% %}}}

% \begin{frame}{Why follow these trends?}%{{{
% Why choose Docker containers instead of virtual machines?
% \begin{itemize}
% \item to ensure such a deployment which is portable across infrastructure providers (across clouds)
% \item to avoid/decrease the frequency of the common problem "works on my machine"
% \item for faster startup times
% Docker instances are lighter-weight. To ship an app as a virtual machine image, you have to bake an entire operating system into the image. With a container, only the app itself has to go inside the container. This translates to a less complicated build process, plus the ability to host many more containers on a single physical server.
% \end{itemize}
% \end{frame}
% %}}}

\begin{frame}{Kubernetes is useful}%{{{
Challenges:
\begin{itemize}
	\item How to deploy a microservice if it depends on many other microservices?
	\item How to satisfy the need for scalability?
	\item How to ensure repetitive and fast deployments?
\end{itemize}

Solutions:
\begin{itemize}
	\item Use a containers' orchestrator like: Docker-compose, \textbf{Kubernetes}, Mesos, Docker Swarm
	\item Use \textbf{DevOps} practices like: Infrastructure as Code, Continuous Integration, Continuous Delivery, Configuration Management Systems
\end{itemize}
\end{frame}
%}}}

\begin{frame}{Kubernetes (k8s) - definition}%{{{
\begin{itemize}
\item An open-source system for \textbf{automating deployment, scaling, and management of containerized applications}
\item \textbf{Features}: self-healing, secret and configuration management, service discovery and load balancing, automated containers placing based on their resource requirements
\item Can be \textbf{deployed on many clouds} (AWS, GCP, Azure) or \textbf{on-premises} - unified experience
\item Bases \textbf{15 years of experience} of running production workloads at Google
\item A \textbf{CNCF} graduated project
\end{itemize}

\begin{tabular}{  c c }
	\begin{figure}
		\includegraphics[width=3cm]{figures/kubernetes-logo.png}
		\label{fig:kubernetes-logo}
	\end{figure} &
	\begin{figure}
		\includegraphics[width=3cm]{figures/cncf-logo.png}
		\label{fig:cncf-logo}
	\end{figure} 
\end{tabular}
\end{frame}
%}}}

\begin{frame}{Kubernetes is popular}%{{{
\begin{figure}
	\includegraphics[width=10cm]{figures/k8s-openstack-survey.png}
	%\caption{Preferred containers orchestration tools on OpenStack, OpenStack Survey, 2018}
	\label{fig:k8s-openstack-survey}
	\caption{Source: OpenStack Survey, 2018}
	\source{OpenStack Survey, 2018}
\end{figure}
\end{frame}
%}}}

\begin{frame}{Kubernetes is popular}%{{{
\begin{figure}
	\includegraphics[width=8cm]{figures/cncf-container-orchestrators.png}
	%\caption{Preferred container management platforms, CNCF Survey, 2017}
	\label{fig:cncf-container-orchestrators}
	\source{Source: CNCF Survey, 2017}
\end{figure}
\end{frame}
%}}}

\begin{frame}{Kubernetes is used in production environment}%{{{
\begin{figure}
	\includegraphics[width=10cm]{figures/cncf-k8s-used-in-production.png}
	\label{fig:cncf-k8s-used-in-production}
	\source{Source: CNCF Survey, 2019}
\end{figure}
\end{frame}
%}}}

\begin{frame}{Kubernetes is used by NASA in production environment}%{{{
	\begin{figure}
		\includegraphics[width=8cm]{figures/k8s-used-by-nasa.png}
		\label{fig:k8s-used-by-nasa}
		\source{Fundamentals of effective cloud management for the new NASA Astrophysics Data System, 2019}
	\end{figure}
\end{frame}
%}}}

\begin{frame}{Many available methods of Kubernetes cluster deployment}%{{{
\begin{figure}
\includegraphics[width=8cm]{figures/cncf-k8s-deployment-methods.png}
\label{fig:cncf-k8s-deployment-methods}
\source{CNCF Survey, 2019}
\end{figure}
\end{frame}
%}}}

\begin{frame}{Why compare two deployment methods on AWS?}%{{{
	\begin{itemize}
		\item Kubernetes cluster deployment methods are described by blog posts and tutorials - not formal literature, but \textbf{practitioners use them}
		\item Comparison of two deployment methods on AWS is \textbf{not found in literature}
		\item \textbf{AWS is a stable cloud} with long history
		\item \textbf{AWS is popular} among practitioners
	\end{itemize}
\end{frame}
%}}}

\begin{frame}{Why focus on production environment?}%{{{
	\begin{itemize}
		\item To \textbf{facilitate others plan such deployment better} by letting them be aware upfront of its limitations and known issues
		\item To \textbf{apply a practical approach}
		\item Such a topic was \textbf{not handled by academic literature} (however usage of Kubernetes cluster in production environment was handled)
		\item To conform to the \textbf{DevOps best practices} and \textbf{Agile methodology}
	\end{itemize}
\end{frame}
%}}}

\subsection{About this study}
\begin{frame}{Aims and research methodology}%{{{
	\begin{itemize}
		\item Theoretical approach
		\begin{itemize}
			\item Search of existing literature (academic and other)
			\item Gather requirements of deployment in production environment
			\item Describe two deployment methods of Kubernetes cluster on AWS
		\end{itemize}
		\item Practical approach
		\begin{itemize}
			\item Perform the two deployments while conforming to the DevOps best practices and Agile methodology
			\item Compare these methods in the context of production environment
			\item List encountered problems and try to provide solutions
		\end{itemize}
	\end{itemize}
\end{frame}
%}}}

\begin{frame}{Related work - Formal literature}%{{{
\begin{itemize}
	\item book: Hideto, Saito, et. al. \textit{DevOps with Kubernetes}. - many clouds, practical approach, some production environment elements
	\item book: Sayfan, Gigi, et. al. \textit{Mastering Kubernetes}. - many clouds, practical approach, some production environment elements
	\item book: Burns, Brendan, et. al. \textit{Kubernetes Up \& Running}. - many clouds, practical approach, no production environment elements
	\item book: Arundel, John, et. al. \textit{Cloud Native DevOps with Kubernetes}. - many clouds, theoretical approach
	\item book: Uphill, Thomas, et. al. \textit{DevOps: Puppet, Docker, and Kubernetes}. - AWS, practical approach
	\item papers acknowledge using Kubernetes, but do not explain how it was deployed
\end{itemize}
\end{frame}
%}}}

\begin{frame}{Related work - Informal literature}%{{{
\begin{itemize}
	\item \textbf{Many clouds compared, only theoretical approach}:
	\begin{itemize}
		\item https://platform9.com/blog/kubernetes-cloud-services-comparing-gke-eks-and-aks/
		\item https://logz.io/blog/kubernetes-as-a-service-gke-aks-eks/
		\item https://www.presslabs.com/blog/kubernetes-cloud-providers-2019/
	\end{itemize}
	\item \textbf{Practical approach, one method described}:
	\begin{itemize}
		\item https://eksctl.io/
		\item https://gruntwork.io/guides/kubernetes/how-to-deploy-production-grade-kubernetes-cluster-aws
		\item https://github.com/kelseyhightower/kubernetes-the-hard-way
		\item https://logz.io/blog/amazon-eks-cluster/
	\end{itemize}
\end{itemize}
\end{frame}
%}}}

\section {Definitions}
\subsection{Production deployment requirements}
\begin{frame}{Production deployment requirements}%{{{
\begin{itemize}
	\item \textbf{Many clouds compared, only theoretical approach}:
	\begin{itemize}
		\item https://platform9.com/blog/kubernetes-cloud-services-comparing-gke-eks-and-aks/
		\item https://logz.io/blog/kubernetes-as-a-service-gke-aks-eks/
		\item https://www.presslabs.com/blog/kubernetes-cloud-providers-2019/
	\end{itemize}
	\item \textbf{Practical approach, one method described}:
	\begin{itemize}
		\item https://eksctl.io/
		\item https://gruntwork.io/guides/kubernetes/how-to-deploy-production-grade-kubernetes-cluster-aws
		\item https://github.com/kelseyhightower/kubernetes-the-hard-way
		\item https://logz.io/blog/amazon-eks-cluster/
	\end{itemize}
\end{itemize}
\end{frame}
%}}}

\section{Problematyka}
\begin{frame}{Problematyka}%{{{
\uncover<1->{
\begin{itemize}
\item {\bfseries Bazy i hurtownie danych} -- {\bfseries {\color{red} olbrzymia
ilość liczb}}\ldots
\item \dots a ludzka percepcja jest ograniczona
\end{itemize}
}

\setbeamercovered{transparent} 
\begin{block}<2->{Wymagania użytkowników}
	{\color{blue}\bfseries Przyjazna, naturalna reprezentacja danych}
	\begin{itemize}
		\item czytelność danych i wiedzy -- {\color{blue}język naturalny} 
		\item znaczenie i kontekst -- {\color{blue} objaśnianie, podsumowywanie}
	\end{itemize}
\end{block}
\setbeamercovered{visible}
%\item {\bfseries\color{blue}Dziedzina zdecydowanie wymaga wsparcia ze strony IT}

\uncover<3->{
	\begin{center}
		\includegraphics[width=6cm]{../generator-min}
	\end{center}
} %<2->
\end{frame}

%\begin{minipage}{0.55\textwidth} \centering {\bfseries {\color{blue}Blisko połowa} pracowników ma {\color{blue}} pensję ok.  $3\,000$}\\ {\footnotesize \em zamiast}\\ {\color{red}$4807$ z $10\,000$} pracowników ma pensję {\color{red}$\geq 2000$} \end{minipage}
%}}}

\section{Zbiory rozmyte i terminy lingwistyczne}
\subsection{Reprezentacja wyrażeń nieprecyzyjnych}
\begin{frame}{Reprezentacja wyrażeń nieprecyzyjnych} %{{{

\begin{block}{Zbiór rozmyty}
\begin{equation}\label{formfs}
A = \{\langle x, \mu_A(x)\rangle\colon x \in {\cal X}\}
\end{equation}
$\mu_A\colon{\cal X}\to[0,1]$ -- funkcja przynależności [Zadeh 1965]
\end{block}

\begin{figure}
\centering
\includegraphics[width=0.6\textwidth]{../1figmftallpl.jpg}
%\caption{Reprezentacja wyrażeń ,,średni'' i ,,wysoki człowiek''}
\end{figure}

\setbeamercovered{transparent} 
\begin{itemize}
\item <2-> \textbf{Własność $\equiv$ zbiór posiadających ją obiektów}
\end{itemize}

\end{frame}
%}}}

\subsection{Spójniki, modyfikatory, wyrażenia kwantyfikowane}
\begin{frame}{Spójniki, modyfikatory, wyrażenia kwantyfikowane}%{{{
\begin{itemize}
\item ORAZ, LUB, NIE - iloczyn, suma, dopełnienie zb. rozm. 
\item BARDZO, MNIEJ WIĘCEJ, PRAWIE - modyfikatory, {\em hedges}
\begin{itemize}
\item operacje na funkcjach przynależności, np. potęgowanie
\end{itemize}
\end{itemize}

\setbeamercovered{transparent} 
\begin{block}<2->{Wyrażenia kwantyfikowane lingwistycznie}
\begin{equation} \label{eq.truthofformcanq1}
T\left(\mbox{ $Q$ $x$'ów jest $S$} \right) = \mu_Q \Big(\card(S)\Big)
\end{equation}
\begin{equation} \label{eq.truthofformcanq2}
T\left(\mbox{ $Q$ $x$'ów, które są $W$, jest $S$} \right) = \mu_Q \left(
{{\card(S \cap W)}\over{\card(W)}}  \right)
\end{equation}
\end{block}

\begin{itemize}
\item <3-> gdzie: $S, W$ -- zbiory rozmyte w $\cal X$, $Q$ -- kwantyfikator rozmyty\begin{itemize}
\item np. {\em OKOŁO POŁOWY studentów ma WYSOKĄ ŚREDNIĄ}
\end{itemize}
\end{itemize}
\end{frame}
%}}}

\subsection{Lingwistyczne podsumowania baz danych}
\begin{frame}{Lingwistyczne podsumowania baz danych}%{{{
\setbeamercovered{transparent}
		\begin{itemize}
			\item <1->{{\color{blue}Większość} pracowników ma {\color{blue}
średnią pensję}} 
\begin{itemize}
\item {\footnotesize \alert<1>{1-sza forma}, $Q^{I}$, [Yager 1982]}
\end{itemize}
\begin{equation}
T = \mu_Q\left( {{\sum\nolimits_{d_i\in{\cal D}}\mu_S(d_i)}\over|{\cal D}|}\right)
\end{equation} 
\item <2->{{\color{blue}Większość} pracowników {\bfseries\color{blue}  około 30 lat}, ma {\color{blue} średnią pensję}} 
\begin{itemize}
\item {\footnotesize \alert<2>{2-ga forma}, $Q^{II}$, [Kacprzyk, Yager, Zadrożny 2001]}
\end{itemize}
\begin{equation}
T=\mu_Q\left( {\sum\nolimits_{d_i\in{\cal D}}\mu_S(d_i)\wedge
\mu_W(d_i)}\over{\sum\nolimits_{d_i\in{\cal D}}\mu_W(d_i)}\right)
\end{equation}
\end{itemize}
gdzie ${\cal D}=\{d_1, d_2, \ldots, d_m\}$
\end{frame}
%}}}

\subsection{Generator podsumowań}
\begin{frame}{Generator podsumowań}%{{{

\setbeamercovered{transparent} 
	\begin{center}
		\includegraphics[width=0.6\textwidth]{../generator}
	\end{center}


\begin{itemize}
\item <2->{\footnotesize\bfseries
\alert<3>{Około połowy pracowników} ma \alert<4>{około 30 lat}
\alert<5>{[0.61]}. \alert<6>{Znacznie więcej niż
2000 pracowników} ma \alert<7>{wyższe wykształcenie} [0.74]. Około połowy pracowników
zarabia blisko 4000 [0.53]. Wielu pracowników \alert<8>{ma wyższe wykształcenie i
zarabia blisko 4000} [0.36]
}
\end{itemize}
\end{frame}
%}}}


\section{Zastosowania podsumowań lingwistycznych}
\subsection{Znane opracowania}
\begin{frame}{Znane opracowania}%{{{
\begin{itemize}
\setbeamercovered{transparent}
\item <1->Kacprzyk, Zadrożny 1995		-- \alert<1>{FQUERY for MS Access}
\item George, Srikanth 1996		-- \alert<2>{zastosowanie alg. genetycznych}
\item <3->Kacprzyk, Strykowski 1996	-- \alert<3>{wspomaganie marketingu}
\item <3->Ochelska 2001			-- \alert<4>{podsumowania dokumentów
medycznych}
\item <5->Kacprzyk, Zadrożny 2003		-- \alert<5>{protoformy, podsumowania interaktywne i przez internet}
\item <5->Kacprzyk, Wilbik 2007		-- \alert<6>{podsumowania szeregów
czasowych}
\item <5->wiele innych
\end{itemize}
\end{frame}
%}}}

\subsection{Prace bieżące}
\begin{frame}{Prace bieżące}%{{{
\setbeamercovered{transparent} 
 \begin{columns}
  \begin{column}{0.64\textwidth}
	\begin{itemize}
		\item <1->Podsumowania danych \alert<1>{rozmytych} poprzez {\em type-2 fuzzy sets}
	\end{itemize}
 \end{column}
 \begin{column}{0.36\textwidth}
\includegraphics[width=\textwidth]{2figfst2exc}
		\vspace{-2mm}
 \end{column}
\end{columns}

\begin{columns}
\begin{column}{0.64\textwidth}
	\begin{itemize}
		\item <2->Przyspieszone i/lub nowe algorytmy obliczania
\alert<2>{\em degrees of~truth}
	\end{itemize}
\end{column}
\begin{column}{0.36\textwidth}
   	\begin{itemize}
		\item <2>GD $O(n \log n)$
		\item <2>MVCP $O(n)$
	\end{itemize}
\end{column}
\end{columns}

\begin{columns}
\begin{column}{0.64\textwidth}
	\begin{itemize}
		\item <3->\alert<3>{Miary jakości} podsumowań
	\end{itemize}
\end{column}
\begin{column}{0.36\textwidth}
	\begin{itemize}
		\item<3> $T_1\div T_5$, $T_6\div T_{11}$, $I$, $SP(\cdot)$,
		{\em descriptors}
	\end{itemize}
\end{column}
\end{columns}

\begin{columns}
\begin{column}{0.64\textwidth}
	\begin{itemize}
		\item <4-> \alert<4>{Gramatyka i fleksja} podsumowań
	\end{itemize}
\end{column}
\begin{column}{0.36\textwidth}
	\begin{itemize}
		\item <4>Jęz. słowiańskie \vspace{1mm}\\
		\setbeamercovered{visible}
		\uncover<4>{\includegraphics[width=0.5\textwidth]{ubuntu}}
		\setbeamercovered{transparent}
	\end{itemize}
\end{column}
\end{columns}

\begin{columns}
\begin{column}{0.64\textwidth}
	\begin{itemize}
		\item <5->\alert<5->{Interfejsy} użytkownika i eksperta/-ów
	\end{itemize}
\end{column}
\begin{column}{0.36\textwidth}
	\begin{itemize}
		\item <5->Wykresy JChart, format XML
	\end{itemize}
\end{column}
\end{columns}
\end{frame}
%}}}

\subsection{Możliwości, uogólnienia}
\begin{frame}{Możliwości, uogólnienia}%{{{
\setbeamercovered{transparent}
\begin{itemize}
	\item <1->Nadal olbrzymi i \alert<1->{niewykorzystany potencjał
aplikacyjny}
 \begin{itemize}
	\item<1-> Barwise'a i Coopera teoria uogólnionej kwantyfikacji (TGQ) -- ponad
30 rodzajów kwantyfikatorów lingwistycznych (!)
\end{itemize}
\item <2-> \alert<2>{Rozszerzenia zbiorów rozmytych}
	\begin{itemize}
		\item Przedziałowe zbiory rozmyte
		\item Intuicjonistyczne zbiory rozmyte oraz {\em I-fuzzy sets}
		\item Zbiory rozmyte typu 2
		\item Zbiory przybliżone Pawlaka
	\end{itemize}
\item <3-> \alert<3->{Nowe implementacje}, w połączeniu np. z Fuzzy SQL
\end{itemize}
\end{frame}
%}}}

\subsection{Ostatnie publikacje}
\begin{frame}{Ostatnie publikacje}%{{{
\begin{itemize}
		{\scriptsize
\item {\bf Niewiadomski, A.}, {\em   On Finity, Countability, Cardinalities, And
Cylindric Extensions of~Type-2 Fuzzy Sets in Linguistic Summarization
of~Databases}, IEEE Transactions on Fuzzy Systems, 2010, (w druku).
\item {\bf Niewiadomski, A.}, Korczak, O., {\em Methods of~evaluating degrees
of~truth for~linguistic summaries of data: a~comparative~analysis}. Lecture
Notes in Artificial Intelligence, 2010, (w druku). 
\item {\bf Niewiadomski, A.}, {\em On type-2 fuzzy logic and linguistic summarization of databases}, Bulletin of the Section of Logic, Vol. 38, Nr 3/4, 2009, ss. 215--227.
\item  {\bf Niewiadomski, A.}, {\em Methods for the Linguistic
Summarization of~Data: Applications of~Fuzzy Sets and Their
Extensions}. Akademicka
Oficyna Wydawnicza EXIT, 2008. Seria IBS PAN, Badania Systemowe, tom 60. 
\item {\bf Niewiadomski, A.}, {\em A type-2 fuzzy approach to linguistic summarization of~data}, IEEE Transactions on Fuzzy Systems, Vol. 16, Nr 1, 2008, ss. 198-212. 
\item {\bf Niewiadomski, A.}, Ochelska, J., Szczepaniak, P. S., {\em Interval-
valued linguistic summaries of~databases}, Control and Cybernetics, Vol. 35, Nr
2, 2006, ss. 415-444. 

}

\end{itemize}
\end{frame}
%}}}

\end{document}


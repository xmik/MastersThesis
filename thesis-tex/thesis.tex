\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[sfdefault]{carlito}
\renewcommand{\baselinestretch}{1.5}

\usepackage{float}
%\usepackage[a4paper,hmargin=1.5cm,vmargin=2cm]{geometry}
\usepackage[a4paper,left=3.5cm,right=2.5cm,top=2.5cm,bottomright=2.5cm]{geometry}
\usepackage{graphicx}
\usepackage{amsfonts}
\usepackage{textcomp}
\usepackage{hyperref}
\usepackage{array}
\usepackage{tabularx}
\usepackage{mathtools}
\usepackage{longtable}
\usepackage{enumitem}
\usepackage{caption}
% set custom numeration of figures to be x.y, where x is section number
\renewcommand{\thefigure}{\arabic{section}.\arabic{figure}}
% set custom numeration of tables to be x.y, where x is section number
\renewcommand{\thetable}{\arabic{section}.\arabic{table}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Configure code listings
% $ tlmgr install mdframed needspace chngcntr

\usepackage{mdframed}
\usepackage[]{listings}
\renewcommand*{\lstlistlistingname}{List of Listings}
% by default the listings are numered as: Listing 1, Listing 2,
% the command below replaces the "Listing" to an empty string
\renewcommand{\lstlistingname}{ }

\usepackage{chngcntr}


\usepackage{xcolor}
\DeclareCaptionFont{white}{\color{white}}

\DeclareCaptionFormat{listing}{%
  \parbox{\textwidth}{
    \colorbox{gray}{
      %\parbox{\textwidth}{\color{white}Listing \arabic{section}.#1#2#3}
      \parbox{\textwidth}{#1#2#3}
    }
    \vskip-4pt

  }
}
\captionsetup[lstlisting]{
  format=listing,
  labelfont=white,
  textfont=white,
  indention=100pt,
  numberbychapter=true
}
\lstset{
  basicstyle=\tiny,frame=lrtb,
  xleftmargin=1cm,
  %xleftmargin=\fboxsep,xrightmargin=-\fboxsep,
  captionpos=b,
  numberbychapter=true
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% parsep is interlinia
\setitemize{noitemsep,topsep=5pt,parsep=0pt,partopsep=0pt}
\setenumerate{noitemsep,topsep=5pt,parsep=0pt,partopsep=0pt}

\usepackage[backend=bibtex,sorting=ydnt]{biblatex}
\setlength\bibitemsep{0pt}
\bibliography{thesis-tex/bibliography.bib}


\usepackage{wrapfig}
\graphicspath{{figures/}}

\title{
{\small Ewa Czechowska } \\
\bf\textit{ Masterâ€™s Thesis - TODO replace me } \\
\vspace{4cm}}
\date{\today}

\begin{document}
\numberwithin{lstlisting}{section}

\maketitle
~\vspace{8cm}
\newpage

\tableofcontents
\newpage
\input{thesis-tex/sections/abstract.tex}
\newpage

% 1
\setcounter{figure}{0}
\setcounter{table}{0}
\setcounter{lstlisting}{0}
\input{thesis-tex/sections/1-intro.tex}
\newpage

% 2
\setcounter{figure}{0}
\setcounter{table}{0}
\setcounter{lstlistings}{0}
\section{From microservices to automated orchestration}
\textit{This chapter serves as an introduction to microservices, DevOps, Docker, Kubernetes and AWS. It is a theoretical chapter. It ends with stipulating the requirements of a production deployment.}

\input{thesis-tex/sections/2-definitions.tex}
\input{thesis-tex/sections/2-definitions-kubernetes.tex}
\input{thesis-tex/sections/2-definitions-prod-req.tex}
\newpage

% 3
\setcounter{figure}{0}
\setcounter{table}{0}
\setcounter{lstlisting}{0}
\input{thesis-tex/sections/3-k8s-depl-methods.tex}
\newpage

% 4
\setcounter{figure}{0}
\setcounter{table}{0}
\setcounter{lstlisting}{0}
\input{thesis-tex/sections/4-practice-preps-prod.tex}
\newpage

% 5
\setcounter{figure}{0}
\setcounter{table}{0}
\setcounter{lstlisting}{0}
\input{thesis-tex/sections/5-prod-depl.tex}
\newpage

% 6
\setcounter{figure}{0}
\setcounter{table}{0}
\setcounter{lstlisting}{0}
\input{thesis-tex/sections/6-comparison.tex}
\newpage

% 7
\setcounter{figure}{0}
\setcounter{table}{0}
\setcounter{lstlisting}{0}
\input{thesis-tex/sections/7-summary.tex}
\newpage

% formal requirements of a thesis, the end

\listoffigures
\listoftables
\lstlistoflistings
\printbibliography[sort=ynt]

\end{document}
